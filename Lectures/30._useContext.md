# useContext (–•—É–∫)

## –ö–∞–∫ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ —Å–∫–≤–æ–∑—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –Ω–µ —Å–æ–π–¥—è —Å —É–º–∞

### 1. –ü—Ä–æ–±–ª–µ–º–∞: –ß—Ç–æ —Ç–∞–∫–æ–µ Prop Drilling?

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –Ω–∞—Å –µ—Å—Ç—å **–î–µ–¥—É—à–∫–∞** (App), –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç –ø–æ–¥–∞—Ä–∏—Ç—å **–í–Ω—É–∫—É** (–º–∞–ª–µ–Ω—å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤–Ω—É—Ç—Ä–∏) –∫–æ–Ω—Ñ–µ—Ç—É. –ù–æ –º–µ–∂–¥—É –Ω–∏–º–∏ —Å–∏–¥–∏—Ç **–ü–∞–ø–∞**, –∫–æ—Ç–æ—Ä–æ–º—É —ç—Ç–∞ –∫–æ–Ω—Ñ–µ—Ç–∞ –≤–æ–æ–±—â–µ –Ω–µ –Ω—É–∂–Ω–∞, –æ–Ω –ø—Ä–æ—Å—Ç–æ –ø–µ—Ä–µ–¥–∞–µ—Ç –µ—ë –¥–∞–ª—å—à–µ.

–ï—Å–ª–∏ —É—Ä–æ–≤–Ω–µ–π –±—É–¥–µ—Ç 10, –∫–æ–¥ –ø—Ä–µ–≤—Ä–∞—Ç–∏—Ç—Å—è –≤ –∑–∞–ø—É—Ç–∞–Ω–Ω—ã–π –∫–ª—É–±–æ–∫ –Ω–∏—Ç–æ–∫. –≠—Ç–æ –Ω–∞–∑—ã–≤–∞–µ—Ç—Å—è **Prop Drilling** (–ø—Ä–æ–∫–∏–¥—ã–≤–∞–Ω–∏–µ –ø—Ä–æ–ø—Å–æ–≤).

### 2. –†–µ—à–µ–Ω–∏–µ: –¢–µ–ª–µ–ø–æ—Ä—Ç (useContext)

`useContext` –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–æ–∑–¥–∞—Ç—å ¬´–æ–±–ª–∞–∫–æ –¥–∞–Ω–Ω—ã—Ö¬ª –≤–æ–∫—Ä—É–≥ –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –õ—é–±–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –º–æ–∂–µ—Ç –ø—Ä–æ—Å—Ç–æ ¬´–ø—Ä–æ—Ç—è–Ω—É—Ç—å —Ä—É–∫—É¬ª –∏ –≤–∑—è—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ —ç—Ç–æ–≥–æ –æ–±–ª–∞–∫–∞, –º–∏–Ω—É—è –ø–æ—Å—Ä–µ–¥–Ω–∏–∫–æ–≤.

---

## üí° –õ–µ–∫—Ü–∏—è: –¢—Ä–∏ —à–∞–≥–∞ –∫ —Å–æ–∑–¥–∞–Ω–∏—é –ö–æ–Ω—Ç–µ–∫—Å—Ç–∞

–ß—Ç–æ–±—ã –º–∞–≥–∏—è —Å—Ä–∞–±–æ—Ç–∞–ª–∞, –Ω–∞–º –Ω—É–∂–Ω—ã —Ç—Ä–∏ –≤–µ—â–∏:

1. **–°–æ–∑–¥–∞—Ç—å ¬´—Ä–∞—Ü–∏—é¬ª** (`createContext`): –ú—ã –¥–æ–≥–æ–≤–∞—Ä–∏–≤–∞–µ–º—Å—è, –Ω–∞ –∫–∞–∫–æ–π —á–∞—Å—Ç–æ—Ç–µ –±—É–¥–µ–º –≤–µ—â–∞—Ç—å.
    
2. **–ü–æ—Å—Ç–∞–≤–∏—Ç—å ¬´–≤—ã—à–∫—É —Å–≤—è–∑–∏¬ª** (`Provider`): –û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ –≥–æ–≤–æ—Ä–∏–º: ¬´–¢—É—Ç —Ç—Ä–∞–Ω—Å–ª–∏—Ä—É—é—Ç—Å—è –¥–∞–Ω–Ω—ã–µ!¬ª.
    
3. **–í–∫–ª—é—á–∏—Ç—å ¬´–ø—Ä–∏–µ–º–Ω–∏–∫¬ª** (`useContext`): –í –Ω—É–∂–Ω–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ –ª–æ–≤–∏–º —Å–∏–≥–Ω–∞–ª.
    

### –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞:

JavaScript

```
import { createContext, useContext } from 'react';

// 1. –°–æ–∑–¥–∞–µ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç
const ThemeContext = createContext('light');

function App() {
  return (
    // 2. –†–∞–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ (Provider)
    <ThemeContext.Provider value="dark">
      <Toolbar />
    </ThemeContext.Provider>
  );
}

function Toolbar() {
  // –≠—Ç–æ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –Ω–∏—á–µ–≥–æ –Ω–µ –∑–Ω–∞–µ—Ç –ø—Ä–æ —Ç–µ–º—É, –æ–Ω –ø—Ä–æ—Å—Ç–æ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –µ—ë
  return <Button />;
}

function Button() {
  // 3. –î–æ—Å—Ç–∞–µ–º –¥–∞–Ω–Ω—ã–µ (useContext)
  const theme = useContext(ThemeContext);
  return <button className={theme}>–Ø –∫–Ω–æ–ø–∫–∞ —Å —Ç–µ–º–æ–π: {theme}</button>;
}
```

---

## üõ† –ü—Ä–∞–∫—Ç–∏–∫–∞: ¬´–ò–Ω–≤–µ–Ω—Ç–∞—Ä—å –ì–µ—Ä–æ—è¬ª

**–ó–∞–¥–∞—á–∞:** –ú—ã –¥–µ–ª–∞–µ–º –∏–≥—Ä—É. –£ –Ω–∞—Å –µ—Å—Ç—å –≥–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç (–ú–∏—Ä –∏–≥—Ä—ã) –∏ –≥–ª—É–±–æ–∫–æ –≤–Ω—É—Ç—Ä–∏ ‚Äî —ç–∫—Ä–∞–Ω —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≥–µ—Ä–æ—è. –ù–∞–º –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç—å –∏–º—è –≥–µ—Ä–æ—è –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–æ–ª–æ—Ç–∞, –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—è –∏—Ö —á–µ—Ä–µ–∑ –≤—Å–µ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã–µ —ç–∫—Ä–∞–Ω—ã.

### –®–∞–≥ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞

–°–æ–∑–¥–∞–π —Ñ–∞–π–ª `GameContext.js`:

JavaScript

```
import { createContext } from 'react';
export const GameContext = createContext();
```

### –®–∞–≥ 2: –†–∞–∑–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –≤ App.js

JavaScript

```
import { useState } from 'react';
import { GameContext } from './GameContext';
import GameWorld from './GameWorld';

export default function App() {
  const [hero, setHero] = useState({ name: "–ê—Ä–∞–≥–æ—Ä–Ω", gold: 100 });

  return (
    <GameContext.Provider value={hero}>
      <h1>–ú–æ—è RPG –ò–≥—Ä–∞</h1>
      <GameWorld /> 
      {/* –ü—Ä–µ–¥—Å—Ç–∞–≤—å, —á—Ç–æ –≤–Ω—É—Ç—Ä–∏ GameWorld –µ—â–µ 5 —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ */}
    </GameContext.Provider>
  );
}
```

### –®–∞–≥ 3: –õ–æ–≤–∏–º –¥–∞–Ω–Ω—ã–µ –≤ StatsCard.js

–°–æ–∑–¥–∞–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫–æ—Ç–æ—Ä—ã–π –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –æ—á–µ–Ω—å –≥–ª—É–±–æ–∫–æ –≤ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ:

JavaScript

```
import { useContext } from 'react';
import { GameContext } from './GameContext';

export default function StatsCard() {
  const hero = useContext(GameContext);

  return (
    <div style={{ border: '2px solid gold', padding: '10px' }}>
      <h3>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h3>
      <p>–ò–º—è: {hero.name}</p>
      <p>–ó–æ–ª–æ—Ç–æ: {hero.gold} üí∞</p>
    </div>
  );
}
```

---

## üèÜ –ó–∞–¥–∞–Ω–∏–µ –¥–ª—è –ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã—Ö (–ß–µ–ª–ª–µ–Ω–¥–∂)

–î–æ–±–∞–≤—å—Ç–µ –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç —Ñ—É–Ω–∫—Ü–∏—é `addGold`.

1. –í `App.js` —Å–æ–∑–¥–∞–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏—é, –∫–æ—Ç–æ—Ä–∞—è —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∑–æ–ª–æ—Ç–æ –Ω–∞ 10.
    
2. –ü–µ—Ä–µ–¥–∞–π—Ç–µ –µ—ë –≤ `value` –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞ –≤–º–µ—Å—Ç–µ —Å –æ–±—ä–µ–∫—Ç–æ–º –≥–µ—Ä–æ—è: `value={{ hero, addGold }}`.
    
3. –í –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ `StatsCard` –≤—ã—Ç–∞—â–∏—Ç–µ —ç—Ç—É —Ñ—É–Ω–∫—Ü–∏—é –∏ –ø–æ–≤–µ—Å—å—Ç–µ –µ—ë –Ω–∞ –∫–Ω–æ–ø–∫—É ¬´–ù–∞–π—Ç–∏ –∫–ª–∞–¥¬ª.
    

