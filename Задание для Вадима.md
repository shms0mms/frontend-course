
# –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ: "–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å LocalStorage"

**–£—Ä–æ–≤–µ–Ω—å —Å–ª–æ–∂–Ω–æ—Å—Ç–∏:** –°—Ä–µ–¥–Ω–∏–π

**–¶–µ–ª—å:** –ù–∞—É—á–∏—Ç—å—Å—è –≤—ã–Ω–æ—Å–∏—Ç—å –ª–æ–≥–∏–∫—É —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Å–æ–±—ã—Ç–∏—è –≤ –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–∞—Å—Ç–æ–º–Ω—ã–µ —Ö—É–∫–∏.

### üìù –õ–µ–≥–µ–Ω–¥–∞

–í—ã —Ä–∞–∑—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç–µ –ø–∞–Ω–µ–ª—å –Ω–∞—Å—Ç—Ä–æ–µ–∫ –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–∏—Å–∞—Ç—å —Ç–µ–∫—Å—Ç –≤ –∑–∞–º–µ—Ç–∫–∏ –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç—å —Ç–µ–º–Ω—É—é —Ç–µ–º—É. –í–∞—à–∞ –∑–∞–¥–∞—á–∞ ‚Äî —Å–¥–µ–ª–∞—Ç—å —Ç–∞–∫, —á—Ç–æ–±—ã —ç—Ç–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Ç–µ—Ä—è–ª–∏—Å—å –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –∏—Å–ø–æ–ª—å–∑—É—è –±—Ä–∞—É–∑–µ—Ä–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (LocalStorage).

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –ø–∏—Å–∞—Ç—å –∫–æ–¥ —Ä–∞–±–æ—Ç—ã —Å `localStorage` –≤ –∫–∞–∂–¥–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, –≤—ã –¥–æ–ª–∂–Ω—ã —Å–æ–∑–¥–∞—Ç—å —É–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π —Ö—É–∫.

---

### üõ† –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

#### 1. –°–æ–∑–¥–∞—Ç—å —Ö—É–∫ `useLocalStorage`

–≠—Ç–æ—Ç —Ö—É–∫ –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –∞–Ω–∞–ª–æ–≥–∏—á–Ω–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É `useState`, –Ω–æ —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –≤ –±—Ä–∞—É–∑–µ—Ä–µ.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞ —Ö—É–∫–∞:**



```js
const [value, setValue] = useLocalStorage(key, initialValue);
```

**–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ –ª–æ–≥–∏–∫–µ:**

- **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è:** –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ —Ö—É–∫ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –µ—Å—Ç—å –ª–∏ —É–∂–µ –¥–∞–Ω–Ω—ã–µ –≤ `localStorage` –ø–æ –∫–ª—é—á—É `key`.
    
    - –ï—Å–ª–∏ –µ—Å—Ç—å ‚Äî —Ä–∞—Å–ø–∞—Ä—Å–∏—Ç—å –∏—Ö (JSON) –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∫ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
        
    - –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å `initialValue`.
        
- **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `setValue` —Å–æ—Å—Ç–æ—è–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –æ–±–Ω–æ–≤–ª—è—Ç—å—Å—è –∏ –≤ React, –∏ –≤ `localStorage`.
    
- **–†–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å:** –•—É–∫ –¥–æ–ª–∂–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Ä–∞–±–æ—Ç–∞—Ç—å, –µ—Å–ª–∏ `key` –∏–∑–º–µ–Ω–∏—Ç—Å—è (—Ö–æ—Ç—è —ç—Ç–æ —Ä–µ–¥–∫–∏–π –∫–µ–π—Å, –Ω–æ —Ö–æ—Ä–æ—à–∏–π —Ç–æ–Ω).
    
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:** –û–±—Ä–∞–±–æ—Ç–∞–π—Ç–µ –≤–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `JSON.parse` –º–æ–∂–µ—Ç —É–ø–∞—Å—Ç—å, –µ—Å–ª–∏ –≤ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ "–º—É—Å–æ—Ä"). –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `try...catch`.
    

#### 2. –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç `SettingsPanel`

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–∞—à —Ö—É–∫ –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–≤—É—Ö –ø–æ–ª–µ–π:

1. **–¢–µ–∫—Å—Ç–æ–≤–æ–µ –ø–æ–ª–µ:** "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" (–∫–ª—é—á: `user_name`).
    
2. **–ß–µ–∫–±–æ–∫—Å:** "–¢–µ–º–Ω–∞—è —Ç–µ–º–∞" (–∫–ª—é—á: `is_dark_theme`).
    

–ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–Ω–∞—á–µ–Ω–∏—è –≤ –ø–æ–ª—è—Ö –¥–æ–ª–∂–Ω—ã —Å–æ—Ö—Ä–∞–Ω—è—Ç—å—Å—è.

**–•—É–∫ `useEventListener`**

–°–æ–∑–¥–∞–π—Ç–µ —Ö—É–∫, –∫–æ—Ç–æ—Ä—ã–π —É–ø—Ä–æ—â–∞–µ—Ç –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏ —É–¥–∞–ª–µ–Ω–∏–µ —Å–ª—É—à–∞—Ç–µ–ª–µ–π —Å–æ–±—ã—Ç–∏–π –Ω–∞ `window` –∏–ª–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π DOM-—ç–ª–µ–º–µ–Ω—Ç.

**–°–∏–≥–Ω–∞—Ç—É—Ä–∞:**

JavaScript

```
useEventListener(eventName, handler, element);
```

**–ó–∞–¥–∞—á–∞:**

–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —ç—Ç–æ—Ç —Ö—É–∫ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –Ω–∞–∂–∞—Ç–∏–µ –∫–ª–∞–≤–∏—à–∏ `Escape`. –ü—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `Escape` ‚Äî –æ—á–∏—â–∞—Ç—å –ø–æ–ª–µ "–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è" (—Å–±—Ä–∞—Å—ã–≤–∞—Ç—å –µ–≥–æ –≤ –ø—É—Å—Ç—É—é —Å—Ç—Ä–æ–∫—É).

---

### üöÄ –®–∞–±–ª–æ–Ω –¥–ª—è —Å—Ç–∞—Ä—Ç–∞

–í–æ—Ç –∑–∞–≥–æ—Ç–æ–≤–∫–∞ –∫–æ–¥–∞, —Å –∫–æ—Ç–æ—Ä–æ–π –º–æ–∂–Ω–æ –Ω–∞—á–∞—Ç—å:



```js
import React, { useState, useEffect } from 'react';

// 1. –î–æ–ø–∏—à–∏—Ç–µ –∫–æ–¥ —Ö—É–∫–∞
function useLocalStorage(key, initialValue) {
  // –í–∞—à –∫–æ–¥ –∑–¥–µ—Å—å...
  // –ü–æ–¥—Å–∫–∞–∑–∫–∞: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–µ–Ω–∏–≤—É—é –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—é —Å–æ—Å—Ç–æ—è–Ω–∏—è: useState(() => { ... })
  
  const [storedValue, setStoredValue] = useState(() => {
     // –õ–æ–≥–∏–∫–∞ —á—Ç–µ–Ω–∏—è –∏–∑ LS
     return initialValue;
  });

  const setValue = (value) => {
     // –õ–æ–≥–∏–∫–∞ –∑–∞–ø–∏—Å–∏ –≤ State –∏ LS
  };

  return [storedValue, setValue];
}

// 2. –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
function App() {
  const [name, setName] = useLocalStorage('user_name', '–ì–æ—Å—Ç—å');
  const [isDark, setIsDark] = useLocalStorage('is_dark_theme', false);

  return (
    <div style={{ 
      padding: '20px', 
      background: isDark ? '#333' : '#FFF', 
      color: isDark ? '#FFF' : '#000',
      minHeight: '100vh' 
    }}>
      <h1>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h1>
      
      <label>
        –ò–º—è:
        <input 
          type="text" 
          value={name} 
          onChange={(e) => setName(e.target.value)} 
        />
      </label>
      <br /><br />
      <label>
        <input 
          type="checkbox" 
          checked={isDark} 
          onChange={(e) => setIsDark(e.target.checked)} 
        />
        –¢–µ–º–Ω–∞—è —Ç–µ–º–∞
      </label>
    </div>
  );
}

export default App;
```
